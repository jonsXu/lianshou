{"version":3,"sources":["../../src/common/jquery.jqprint-0.3.js"],"names":["$","opt","fn","jqprint","options","extend","defaults","$element","jQuery","operaSupport","browser","opera","tab","window","open","document","doc","$iframe","debug","css","position","width","height","left","top","appendTo","contentWindow","importCSS","length","each","write","attr","printContainer","outer","html","close","focus","setTimeout","print","clone"],"mappings":"cAAC;AACD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA,CAAC,UAASA,CAAT,EAAY;AACT,QAAIC,GAAJ;;AAEAD,MAAEE,EAAF,CAAKC,OAAL,GAAe,UAAUC,OAAV,EAAmB;AAC9BH,cAAMD,EAAEK,MAAF,CAAS,EAAT,EAAaL,EAAEE,EAAF,CAAKC,OAAL,CAAaG,QAA1B,EAAoCF,OAApC,CAAN;;AAEA,YAAIG,WAAY,gBAAgBC,MAAjB,GAA2B,IAA3B,GAAkCR,EAAE,IAAF,CAAjD;;AAEA,YAAIC,IAAIQ,YAAJ,IAAoBT,EAAEU,OAAF,CAAUC,KAAlC;AACA;AACI,gBAAIC,MAAMC,OAAOC,IAAP,CAAY,EAAZ,EAAe,iBAAf,CAAV;AACAF,gBAAIG,QAAJ,CAAaD,IAAb;;AAEA,gBAAIE,MAAMJ,IAAIG,QAAd;AACH,SAND;;AAQA;AACI,gBAAIE,UAAUjB,EAAE,aAAF,CAAd;;AAEA,gBAAI,CAACC,IAAIiB,KAAT,EAAgB,CAAED,QAAQE,GAAR,CAAY,EAAEC,UAAU,UAAZ,EAAwBC,OAAO,KAA/B,EAAsCC,QAAQ,KAA9C,EAAqDC,MAAM,QAA3D,EAAqEC,KAAK,QAA1E,EAAZ,EAAoG;;AAEtHP,oBAAQQ,QAAR,CAAiB,MAAjB;AACA,gBAAIT,MAAMC,QAAQ,CAAR,EAAWS,aAAX,CAAyBX,QAAnC;AACH;;AAED,YAAId,IAAI0B,SAAR;AACA;AACI,gBAAI3B,EAAE,mBAAF,EAAuB4B,MAAvB,GAAgC,CAApC;AACA;AACI5B,kBAAE,mBAAF,EAAuB6B,IAAvB,CAA6B,YAAW;AACpCb,wBAAIc,KAAJ,CAAU,kDAAkD9B,EAAE,IAAF,EAAQ+B,IAAR,CAAa,MAAb,CAAlD,GAAyE,oBAAnF;AACH,iBAFD;AAGH,aALD;;AAOA;AACI/B,kBAAE,MAAF,EAAU6B,IAAV,CAAgB,YAAW;AACvBb,wBAAIc,KAAJ,CAAU,kDAAkD9B,EAAE,IAAF,EAAQ+B,IAAR,CAAa,MAAb,CAAlD,GAAyE,MAAnF;AACH,iBAFD;AAGH;AACJ;;AAED,YAAI9B,IAAI+B,cAAR,EAAwB,CAAEhB,IAAIc,KAAJ,CAAUvB,SAAS0B,KAAT,EAAV,EAA8B,CAAxD;AACK,SAAE1B,SAASsB,IAAT,CAAe,YAAW,CAAEb,IAAIc,KAAJ,CAAU9B,EAAE,IAAF,EAAQkC,IAAR,EAAV,EAA4B,CAAxD,EAA4D;;AAEnElB,YAAImB,KAAJ;;AAEA,SAAClC,IAAIQ,YAAJ,IAAoBT,EAAEU,OAAF,CAAUC,KAA9B,GAAsCC,GAAtC,GAA4CK,QAAQ,CAAR,EAAWS,aAAxD,EAAuEU,KAAvE;AACAC,mBAAY,YAAW,CAAE,CAACpC,IAAIQ,YAAJ,IAAoBT,EAAEU,OAAF,CAAUC,KAA9B,GAAsCC,GAAtC,GAA4CK,QAAQ,CAAR,EAAWS,aAAxD,EAAuEY,KAAvE,GAAgF,IAAI1B,GAAJ,EAAS,CAAEA,IAAIuB,KAAJ,GAAc,CAAE,CAApI,EAAsI,IAAtI;AACH,KA7CD;;AA+CAnC,MAAEE,EAAF,CAAKC,OAAL,CAAaG,QAAb,GAAwB;AAC1BY,eAAO,KADmB;AAE1BS,mBAAW,IAFe;AAG1BK,wBAAgB,IAHU;AAI1BvB,sBAAc,IAJY,EAAxB;;;AAOA;AACAD,WAAON,EAAP,CAAU+B,KAAV,GAAkB,YAAW;AAC3B,eAAOjC,EAAEA,EAAE,aAAF,EAAiBkC,IAAjB,CAAsB,KAAKK,KAAL,EAAtB,CAAF,EAAuCL,IAAvC,EAAP;AACD,KAFD;AAGH,CA7DD,EA6DG1B,MA7DH","file":"jquery.jqprint-0.3.js","sourcesContent":["ï»¿// -----------------------------------------------------------------------\r\n// Eros Fratini - eros@recoding.it\r\n// jqprint 0.3\r\n//\r\n// - 19/06/2009 - some new implementations, added Opera support\r\n// - 11/05/2009 - first sketch\r\n//\r\n// Printing plug-in for jQuery, evolution of jPrintArea: http://plugins.jquery.com/project/jPrintArea\r\n// requires jQuery 1.3.x\r\n//\r\n// Licensed under the MIT license: http://www.opensource.org/licenses/mit-license.php\r\n//------------------------------------------------------------------------\r\n\r\n\r\n(function($) {\r\n    var opt;\r\n\r\n    $.fn.jqprint = function (options) {\r\n        opt = $.extend({}, $.fn.jqprint.defaults, options);\r\n\r\n        var $element = (this instanceof jQuery) ? this : $(this);\r\n        \r\n        if (opt.operaSupport && $.browser.opera) \r\n        { \r\n            var tab = window.open(\"\",\"jqPrint-preview\");\r\n            tab.document.open();\r\n\r\n            var doc = tab.document;\r\n        }\r\n        else \r\n        {\r\n            var $iframe = $(\"<iframe  />\");\r\n        \r\n            if (!opt.debug) { $iframe.css({ position: \"absolute\", width: \"0px\", height: \"0px\", left: \"-600px\", top: \"-600px\" }); }\r\n\r\n            $iframe.appendTo(\"body\");\r\n            var doc = $iframe[0].contentWindow.document;\r\n        }\r\n        \r\n        if (opt.importCSS)\r\n        {\r\n            if ($(\"link[media=print]\").length > 0) \r\n            {\r\n                $(\"link[media=print]\").each( function() {\r\n                    doc.write(\"<link type='text/css' rel='stylesheet' href='\" + $(this).attr(\"href\") + \"' media='print' />\");\r\n                });\r\n            }\r\n            else \r\n            {\r\n                $(\"link\").each( function() {\r\n                    doc.write(\"<link type='text/css' rel='stylesheet' href='\" + $(this).attr(\"href\") + \"' />\");\r\n                });\r\n            }\r\n        }\r\n        \r\n        if (opt.printContainer) { doc.write($element.outer()); }\r\n        else { $element.each( function() { doc.write($(this).html()); }); }\r\n        \r\n        doc.close();\r\n        \r\n        (opt.operaSupport && $.browser.opera ? tab : $iframe[0].contentWindow).focus();\r\n        setTimeout( function() { (opt.operaSupport && $.browser.opera ? tab : $iframe[0].contentWindow).print(); if (tab) { tab.close(); } }, 1000);\r\n    }\r\n    \r\n    $.fn.jqprint.defaults = {\r\n\t\tdebug: false,\r\n\t\timportCSS: true, \r\n\t\tprintContainer: true,\r\n\t\toperaSupport: true\r\n\t};\r\n\r\n    // Thanks to 9__, found at http://users.livejournal.com/9__/380664.html\r\n    jQuery.fn.outer = function() {\r\n      return $($('<div></div>').html(this.clone())).html();\r\n    } \r\n})(jQuery);"]}